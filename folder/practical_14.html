<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Form Validation Demo</title>
  <style>
    .error { color: #b00020; font-size: 0.9rem; }
    .valid { border-color: #2e7d32; }
    .invalid { border-color: #b00020; }
  </style>
</head>
<body>
  <form id="signupForm">
    <label>
      Name
      <input type="text" id="name" name="name" required minlength="2" />
    </label>
    <div id="nameError" class="error"></div>

    <label>
      Email
      <input type="email" id="email" name="email" required />
    </label>
    <div id="emailError" class="error"></div>

    <label>
      Password
      <input type="password" id="password" name="password" required minlength="8" />
    </label>
    <div id="passwordError" class="error"></div>

    <button type="submit">Sign up</button>
  </form>

  <script>
    const form = document.getElementById('signupForm');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');

    const nameError = document.getElementById('nameError');
    const emailError = document.getElementById('emailError');
    const passwordError = document.getElementById('passwordError');

    
    function setValidity(input, errorEl, message) {
      if (message) {
        input.classList.remove('valid');
        input.classList.add('invalid');
        errorEl.textContent = message;
      } else {
        input.classList.remove('invalid');
        input.classList.add('valid');
        errorEl.textContent = '';
      }
    }

    function validateName() {
      const value = nameInput.value.trim();
      if (!value) return setValidity(nameInput, nameError, 'Name is required.');
      if (value.length < 2) return setValidity(nameInput, nameError, 'Name must be at least 2 characters.');
      return setValidity(nameInput, nameError, '');
    }

    function validateEmail() {
      const value = emailInput.value.trim();
      if (!value) return setValidity(emailInput, emailError, 'Email is required.');
      
      const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!pattern.test(value)) return setValidity(emailInput, emailError, 'Enter a valid email address.');
      return setValidity(emailInput, emailError, '');
    }

    function validatePassword() {
      const value = passwordInput.value;
      if (!value) return setValidity(passwordInput, passwordError, 'Password is required.');
      if (value.length < 8) return setValidity(passwordInput, passwordError, 'Password must be at least 8 characters.');
      
      const strong = /(?=.*[A-Za-z])(?=.*\d)/;
      if (!strong.test(value)) return setValidity(passwordInput, passwordError, 'Include letters and numbers.');
      return setValidity(passwordInput, passwordError, '');
    }

    
    nameInput.oninput = validateName;
    emailInput.oninput = validateEmail;
    passwordInput.oninput = validatePassword;

    
    form.onsubmit = function (e) {
     
      validateName();
      validateEmail();
      validatePassword();

      
      const hasErrors =
        nameError.textContent ||
        emailError.textContent ||
        passwordError.textContent;

      if (hasErrors) {
        e.preventDefault();
        alert('Please fix the highlighted errors before submitting.');
        return false;
      }

      
      alert('Form submitted successfully!');
      
      return true;
    };
  </script>
</body>
</html>